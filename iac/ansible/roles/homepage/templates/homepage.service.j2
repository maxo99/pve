[Unit]
Description=Homepage Dashboard
After=network.target
Wants=network.target

[Service]
Type=simple
User={{ homepage_user }}
Group={{ homepage_group }}
WorkingDirectory={{ homepage_install_dir }}
ExecStart=/usr/bin/pnpm start
Environment=NODE_ENV=production
Environment=PORT={{ homepage_port }}
{% for key, value in homepage_env_vars.items() %}
Environment={{ key }}={{ value }}
{% endfor %}
{% if homepage_custom_env_vars is defined %}
{% for key, value in homepage_custom_env_vars.items() %}
Environment={{ key }}={{ value }}
{% endfor %}
{% endif %}
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
